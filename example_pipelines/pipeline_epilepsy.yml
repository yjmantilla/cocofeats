datasets: example_pipelines/datasets_epilepsy.yml
mount_point: local
new_definitions: example_pipelines/definitions_epilepsy.py

FeatureDefinitions:
  Mat2fif:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: SourceFile
      - id: 1
        node: mat2fif
        args:
          eegpath: id.0

  BasicPrep:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: Mat2fif.fif
      - id: 1
        node: basic_preprocessing
        args:
          mne_object: id.0
          resample: 256
          notch_filter: null
          filter_args:
            l_freq: 0.5
            h_freq: 110
          epoch_config:
            duration: 1
            overlap: 0.5
            reject_by_annotation : False
            proj : False
          extra_artifacts: True
  AmpNorm:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: BasicPrep.fif
      - id: 1
        node: amplitude_normalization_per_segment
        args:
          mne_object: id.0

  SpectrumArrayMultitaper:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: mne_spectrum_array
        args:
          meeg: id.0
          method: 'multitaper'
          method_kwargs:
            bandwidth : null
            adaptive: False
            low_bias: True
            normalization: 'length'
            remove_dc: True
            output: 'power'


  BandPower:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: SpectrumArrayMultitaper.fif
      - id: 1
        node: extract_data_var
        args:
          dataset_like: id.0
          data_var: 'spectrum'
      - id: 2
        node: bandpower
        args:
          bands:
            hfo : (70.0, 110.0)
            delta: (1.0, 4.0)
            theta: (4.0, 8.0)
            alpha: (8.0, 13.0)
            beta: (13.0, 30.0)
            preAlpha: (5.5, 8.0)
            slowTheta: (4.0, 5.5)

FeatureList:
  - Mat2fif
  - BasicPrep
  - AmpNorm
  - SpectrumArrayMultitaper
  - BandPower