datasets: example_pipelines/datasets_epilepsy.yml
mount_point: local
new_definitions: example_pipelines/definitions_epilepsy.py

FeatureDefinitions:
  Mat2fif:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: SourceFile
      - id: 1
        node: mat2fif
        args:
          eegpath: id.0

  BasicPrep:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: Mat2fif.fif
      - id: 1
        node: basic_preprocessing
        args:
          mne_object: id.0
          resample: 256
          notch_filter: null
          filter_args:
            l_freq: 0.5
            h_freq: 110
          epoch_config:
            duration: 1
            overlap: 0.5
            reject_by_annotation : False
            proj : False
          extra_artifacts: True
  AmpNorm:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: BasicPrep.fif
      - id: 1
        node: amplitude_normalization_per_segment
        args:
          mne_object: id.0

  SpectrumArrayMultitaper:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: mne_spectrum_array
        args:
          meeg: id.0
          method: 'multitaper'
          method_kwargs:
            bandwidth : null
            adaptive: False
            low_bias: True
            normalization: 'length'
            remove_dc: True
            output: 'power'


  FooofArray:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: SpectrumArrayMultitaper.nc
      - id: 1
        node: fooof
        args:
          psd_like: id.0
          freq_dim: 'frequencies'
          fooof_options:
            FOOOF:
              aperiodic_mode: 'knee'
            fit:
              freq_range: [1, 90]
            freq_res: 1
            save:
              save_results: True
              save_settings: True
              save_data: True
          include_timings: True

  BandPower:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: SpectrumArrayMultitaper.nc
      - id: 1
        node: extract_data_var
        args:
          dataset_like: id.0
          data_var: 'spectrum'
      - id: 2
        node: bandpower
        args:
          psd_like: id.1
          bands:
            hfo: [70.0, 110.0]
            delta: [1.0, 4.0]
            theta: [4.0, 8.0]
            alpha: [8.0, 13.0]
            beta: [13.0, 30.0]
            preAlpha: [5.5, 8.0]
            slowTheta: [4.0, 5.5]


  AntropyHjorthParams:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: antropy_hjorth_params
        args:
          data_like: id.0
          dim: 'times'

  AntropyAppEntropy:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: antropy_app_entropy
        args:
          data_like: id.0
          dim: 'times'

  AppEntropy:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: AntropyAppEntropy.nc
      - id: 1
        node: mean_across_dimension
        args:
          xarray_data: id.0
          dim: 'epochs'

  AntropyLZivComplexity:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: meeg_to_xarray
        args:
          mne_object: id.0
      - id: 2
        node: binarize_with_median
        args:
          data: id.1
          dim: 'times'
      - id: 3
        node: antropy_lziv_complexity
        args:
          data_like: id.2
          dim: 'times'

  LZiv:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: AntropyLZivComplexity.nc
      - id: 1
        node: mean_across_dimension
        args:
          xarray_data: id.0
          dim: 'epochs'


  AntropyNumZeroCross:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: antropy_num_zerocross
        args:
          data_like: id.0
          dim: 'times'

  NumZeroCross:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: AntropyNumZeroCross.nc
      - id: 1
        node: mean_across_dimension
        args:
          xarray_data: id.0
          dim: 'epochs'


  AntropyPermutationEntropy:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: antropy_perm_entropy
        args:
          data_like: id.0
          dim: 'times'

  PermEntropy:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: AntropyPermutationEntropy.nc
      - id: 1
        node: mean_across_dimension
        args:
          xarray_data: id.0
          dim: 'epochs'

  AntropySampleEntropy:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: antropy_sample_entropy
        args:
          data_like: id.0
          dim: 'times'

  SampleEntropy:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: AntropySampleEntropy.nc
      - id: 1
        node: mean_across_dimension
        args:
          xarray_data: id.0
          dim: 'epochs'

  AntropySpectralEntropy:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: antropy_spectral_entropy
        args:
          data_like: id.0
          dim: 'times'
          sf: 200.0

  SpectralEntropy:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: AntropySpectralEntropy.nc
      - id: 1
        node: mean_across_dimension
        args:
          xarray_data: id.0
          dim: 'epochs'

  AntropySVDEntropy:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: antropy_svd_entropy
        args:
          data_like: id.0
          dim: 'times'

  SVDEntropy:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: AntropySVDEntropy.nc
      - id: 1
        node: mean_across_dimension
        args:
          xarray_data: id.0
          dim: 'epochs'

  AntropyHiguchiFD:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: antropy_higuchi_fd
        args:
          data_like: id.0
          dim: 'times'

  HiguchiFD:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: AntropyHiguchiFD.nc
      - id: 1
        node: mean_across_dimension
        args:
          xarray_data: id.0
          dim: 'epochs'

  AntropyKatzFD:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: antropy_katz_fd
        args:
          data_like: id.0
          dim: 'times'

  KatzFD:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: AntropyKatzFD.nc
      - id: 1
        node: mean_across_dimension
        args:
          xarray_data: id.0
          dim: 'epochs'

  AntropyPetrosianFD:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: antropy_petrosian_fd
        args:
          data_like: id.0
          dim: 'times'

  PetrosianFD:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: AntropyPetrosianFD.nc
      - id: 1
        node: mean_across_dimension
        args:
          xarray_data: id.0
          dim: 'epochs'


  NeurokitEntropyMultiscale:
    overwrite: False
    for_dataframe: False
    nodes:
      - id: 0
        feature: AmpNorm.fif
      - id: 1
        node: neurokit_entropy_multiscale
        args:
          data_like: id.0
          dim: 'times'
          function_kwargs:
            scale: 'default'
            dimension: 2
            r: 'default'
            composite: False
            refined: False
            fuzzy: False

  EntropyMultiscale:
    overwrite: False
    save: False
    nodes:
      - id: 0
        feature: NeurokitEntropyMultiscale.nc
      - id: 1
        node: extract_data_var
        args:
          dataset_like: id.0
          data_var: 'value'
      - id: 2
        node: mean_across_dimension
        args:
          xarray_data: id.1
          dim: 'epochs'


FeatureList:
  - Mat2fif
  - BasicPrep
  - AmpNorm
  - NeurokitEntropyMultiscale
  - EntropyMultiscale
  - SpectrumArrayMultitaper
  - BandPower
  - AntropyLZivComplexity
  - LZiv
  - AntropyHjorthParams
  - AntropyAppEntropy
  - AppEntropy
  - AntropyNumZeroCross
  - NumZeroCross
  - AntropyPermutationEntropy
  - PermEntropy
  - AntropySampleEntropy
  - SampleEntropy
  - AntropySpectralEntropy
  - SpectralEntropy
  - AntropySVDEntropy
  - SVDEntropy
  - AntropyHiguchiFD
  - HiguchiFD
  - AntropyKatzFD
  - KatzFD
  - AntropyPetrosianFD
  - PetrosianFD
  - FooofArray
